{% extends 'base.html' %}

{% block content %}
    <div class="results-container">
        <h2>Search Results</h2>
        
        {% if similar_children %}
        <h3>Found Match</h3>
            <div class="grid">
            {% for child, distance in similar_children %}
                <div class="card">
                    <div class="card-img-container">
                        <img class="card-img" src="{{ child.image.url }}" alt="{{ child.name }}">
                    </div>
                    <div class="card-body">
                        <div class="inline-elements">
                            <h3 class="percentage">Similarity: {{ distance }}% </h3>
                            <h4 class="card-title">{{ child.name }}</h4>
                        </div>
                        <p>Age: {{ child.age }}</p>
                        <p>Date Missing: {{ child.date_missing }}</p>
                        <p>Place of Birth: {{ child.place_of_birth }}</p>
                        <p>Place Last Seen: {{ child.last_seen }}</p>
                        <p>Guardian Name: {{ child.guardian_name }}</p>
                        <p>Guardian Contact: {{ child.guardian_contact }}</p>
                        <!--<p>Similarity Distance: {{ distance }}</p>-->
                    </div>
                </div>
            {% endfor %}
            </div>
        {% else %}
            <p>No similar faces found.</p>
        {% endif %}
        <button type="button" id="print" onclick="generatePDF()" style="background-color: #007bff; color: white; font-size: 16px; border-radius: 10px; border: 1px solid #007bff; padding: 8px 16px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">Generate PDF</button>
        <script>            
            const printPage = document.getElementById('print')            
            printPage.addEventListener('click', function(){
                print()
            })
        </script>
    </div>
{% endblock %}
